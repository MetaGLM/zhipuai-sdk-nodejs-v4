{"version":3,"sources":["../../lib/core/baseApi.ts","../../lib/capability/files.ts"],"sourcesContent":["import Request from \"./request.js\";\nexport default class BaseApi {\n    constructor(protected readonly request: Request) {\n    }\n\n    protected processError(err: any) {\n        const data = err?.response?.data ?? err\n        return Promise.reject(data)\n    }\n} ","import BaseApi from \"../core/baseApi.js\";\nimport { CreateFileOptions, FileResponse, FindFileListOptions, FileListResponse } from \"../types/index.js\";\n\nexport default class Files extends BaseApi {\n    public async create(options: CreateFileOptions): Promise<FileResponse> {\n        const formData = new FormData()\n        formData.append(\"purpose\", options.purpose);\n        formData.append(\"file\", options.file);\n        return this.request.postForm(\"/files\", formData, options)\n            .catch(this.processError)\n    }\n\n    public async findList(options: FindFileListOptions): Promise<FileListResponse> {\n        return this.request.get(\"/files\", {\n            params: {\n                \"purpose\": options.purpose,\n                \"limit\": options.limit,\n                \"after\": options.after,\n                \"order\": options.order,\n            },\n            headers: options.extraHeaders,\n            timeout: options.timeout,\n            responseType: options.stream ? 'stream' : 'json'\n        })\n    }\n} "],"mappings":";;;;;;;;;;;;;;;;;;;;;;AACA,IAAqB,UAArB,MAA6B;AAAA,EACzB,YAA+B,SAAkB;AAAlB;AAAA,EAC/B;AAAA,EAEU,aAAa,KAAU;AALrC;AAMQ,UAAM,QAAO,sCAAK,aAAL,mBAAe,SAAf,YAAuB;AACpC,WAAO,QAAQ,OAAO,IAAI;AAAA,EAC9B;AACJ;;;ACNA,IAAqB,QAArB,cAAmC,QAAQ;AAAA,EAC1B,OAAO,SAAmD;AAAA;AACnE,YAAM,WAAW,IAAI,SAAS;AAC9B,eAAS,OAAO,WAAW,QAAQ,OAAO;AAC1C,eAAS,OAAO,QAAQ,QAAQ,IAAI;AACpC,aAAO,KAAK,QAAQ,SAAS,UAAU,UAAU,OAAO,EACnD,MAAM,KAAK,YAAY;AAAA,IAChC;AAAA;AAAA,EAEa,SAAS,SAAyD;AAAA;AAC3E,aAAO,KAAK,QAAQ,IAAI,UAAU;AAAA,QAC9B,QAAQ;AAAA,UACJ,WAAW,QAAQ;AAAA,UACnB,SAAS,QAAQ;AAAA,UACjB,SAAS,QAAQ;AAAA,UACjB,SAAS,QAAQ;AAAA,QACrB;AAAA,QACA,SAAS,QAAQ;AAAA,QACjB,SAAS,QAAQ;AAAA,QACjB,cAAc,QAAQ,SAAS,WAAW;AAAA,MAC9C,CAAC;AAAA,IACL;AAAA;AACJ;","names":[]}