{"version":3,"sources":["../lib/request.ts"],"sourcesContent":["import Axios, { AxiosInstance, CreateAxiosDefaults, AxiosResponse, AxiosRequestConfig } from \"axios\";\nimport ZhipuAI from \"./zhipu-ai\";\n\nexport default class Request {\n    public request: AxiosInstance\n\n    constructor(private readonly app: ZhipuAI, config: CreateAxiosDefaults) {\n        this.request = Axios.create(config)\n\n        this.request.interceptors.request.use((config) => {\n            config.headers.set(this.app.authHeaders())\n            return config;\n        })\n    }\n\n    async post<T = any, R = AxiosResponse<T>, D = any>(url: string, data?: D, config?: AxiosRequestConfig<D>): Promise<R> {\n        return this.request.post(url, data, config).then(res => res.data)\n    }\n\n    async get<T = any, R = AxiosResponse<T>, D = any>(url: string, config?: AxiosRequestConfig<D>): Promise<R> {\n        return this.request.get(url, config).then(res => res.data)\n    }\n\n    async put<T = any, R = AxiosResponse<T>, D = any>(url: string, data?: D, config?: AxiosRequestConfig<D>): Promise<R> {\n        return this.request.put(url, data, config).then(res => res.data)\n    }\n\n    async delete<T = any, R = AxiosResponse<T>, D = any>(url: string, config?: AxiosRequestConfig<D>): Promise<R> {\n        return this.request.delete(url, config).then(res => res.data)\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAA6F;AAG7F,IAAqB,UAArB,MAA6B;AAAA,EAGzB,YAA6B,KAAc,QAA6B;AAA3C;AAF7B,wBAAO;AAGH,SAAK,UAAU,aAAAA,QAAM,OAAO,MAAM;AAElC,SAAK,QAAQ,aAAa,QAAQ,IAAI,CAACC,YAAW;AAC9C,MAAAA,QAAO,QAAQ,IAAI,KAAK,IAAI,YAAY,CAAC;AACzC,aAAOA;AAAA,IACX,CAAC;AAAA,EACL;AAAA,EAEM,KAA6C,KAAa,MAAU,QAA4C;AAAA;AAClH,aAAO,KAAK,QAAQ,KAAK,KAAK,MAAM,MAAM,EAAE,KAAK,SAAO,IAAI,IAAI;AAAA,IACpE;AAAA;AAAA,EAEM,IAA4C,KAAa,QAA4C;AAAA;AACvG,aAAO,KAAK,QAAQ,IAAI,KAAK,MAAM,EAAE,KAAK,SAAO,IAAI,IAAI;AAAA,IAC7D;AAAA;AAAA,EAEM,IAA4C,KAAa,MAAU,QAA4C;AAAA;AACjH,aAAO,KAAK,QAAQ,IAAI,KAAK,MAAM,MAAM,EAAE,KAAK,SAAO,IAAI,IAAI;AAAA,IACnE;AAAA;AAAA,EAEM,OAA+C,KAAa,QAA4C;AAAA;AAC1G,aAAO,KAAK,QAAQ,OAAO,KAAK,MAAM,EAAE,KAAK,SAAO,IAAI,IAAI;AAAA,IAChE;AAAA;AACJ;","names":["Axios","config"]}